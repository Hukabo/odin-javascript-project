<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project: Rock Paper Scissors</title>
</head>
<body>
    <h1>Welcome to My game</h1>
    <div class="place">
        <button id="rock">rock!</button>
        <button id="paper">paper!</button>
        <button id="scissor">scissor!</button>
    </div>
    <div id="result"></div>

    <script>
        let playerSelection;
        let computerSelection;
        let playerScore = 0;
        let computerScore = 0;

        let btn = document.querySelector('.place');
        let result = document.querySelector('#result');

        btn.addEventListener('click', function (e) {
            let target = e.target;
            playerSelection = target.id;

            playRound(playerSelection,getComputerChoice());
            }
        )
        

        function playRound(playerSelection, computerSelection) {
            let content = "";
            
            if (playerSelection === "rock") {
                if(computerSelection === "rock") {
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 비겼습니다.`;
                } else if(computerSelection === "paper") {
                    computerScore++;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 졌습니다.`;
                } else if(computerSelection === "scissor"){
                    playerScore++;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 이겼습니다.`;
                }
            }

            else if(playerSelection === "paper") {
                if(computerSelection === "rock") {
                    playerScore++;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 이겼습니다.`;
                } else if(computerSelection === "paper") {
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 비겼습니다.`;
                } else if(computerSelection === "scissor") {
                    computerScore++;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 졌습니다.`;
                }
            }

            else if(playerSelection === "scissor") {
                if(computerSelection === "rock") {
                    ++computerScore;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 졌습니다.`;
                } else if(computerSelection === "paper") {
                    playerScore++;
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 이겼습니다.`;
                } else if(computerSelection === "scissor") {
                    content = `you: ${playerSelection} | com: ${computerSelection}\n 비겼습니다.`;
                }
            }

            if (playerScore === 5 || computerScore === 5) {
                if (playerScore > computerScore) {
                    content = `승자는 당신입니다!`;
                } else {
                    content = `승자는 컴퓨터입니다!`;
                }
                playerScore = 0;
                computerScore = 0;
                result.innerHTML = content;
                return;
            }

            result.innerHTML = `${content}\n${playerScore} : ${computerScore}`;
        }

        function getComputerChoice() {
            const randomNumber = Math.floor(Math.random() * 3);
            let action;
            if(randomNumber === 0) {
                action = "rock";
            } else if(randomNumber === 1) {
                action = "paper";
            } else {
                action = "scissor";
            }

            return action;
        }
    </script>
    
</body>
</html>